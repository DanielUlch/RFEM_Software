 
    <UserControl x:Class="RFEM_Software.Rbear2dForm"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:RFEM_Software"
        xmlns:self="clr-namespace:RFEM_Software.Commands"
        xmlns:cc="clr-namespace:RFEM_Software.Custom_Controls"
        mc:Ignorable="d"
        Height="auto" Width="700"
        x:Name="rbearForm" Loaded="Form_Loaded" >
    <UserControl.Resources>
        <local:DoubleConverter x:Key="DoubleConverter" />
        <ControlTemplate x:Key="ToolTipTemplate">
            <StackPanel Orientation="vertical" Background="White">
                <Label Name="Title" 
                       FontWeight="Bold"
                       Background="Blue"
                       Foreground="White">Help Title</Label>
                <TextBlock Name="Description" 
                           Padding="10" 
                           TextWrapping="WrapWithOverflow"
                           Width="200"
                           Text="{TemplateBinding Property=ToolTip.Content}" />
                <Line Stroke="Black"
                      StrokeThickness="1"
                      X2="200"/>
                <StackPanel Orientation="Horizontal">
                    <Image Margin="2" 
                           Height="15"
                           Width="15"
                           Source="/Images/Help_2.png"/>
                    <TextBlock TextWrapping="WrapWithOverflow" 
                               Width="181"
                               FontStyle="Italic">For more help right click and select help, or hover over an element and press F1</TextBlock>
                </StackPanel>

            </StackPanel>
        </ControlTemplate>
        <ToolTip x:Key="DefaultToolTip">
            <StackPanel Orientation="vertical">
                <Label FontWeight="Bold"
                       Background="Blue"
                       Foreground="White">Help Title</Label>
                <TextBlock Padding="10" 
                           TextWrapping="WrapWithOverflow"
                           Name="Desc"
                           Width="200">Brief description</TextBlock>
                <Line Stroke="Black"
                      StrokeThickness="1"
                      X2="200"/>
                <StackPanel Orientation="Horizontal">
                    <Image Margin="2" 
                           Height="15"
                           Width="15"
                           Source="/Images/Help_2.png"/>
                    <TextBlock TextWrapping="WrapWithOverflow" 
                               Width="181"
                               FontStyle="Italic">For more help right click and select help, or hover over an element and press F1</TextBlock>
                </StackPanel>

            </StackPanel>
        </ToolTip>
        <Style  x:Key="ToolTipEnabled" TargetType="TextBox">
            <Setter Property="ToolTip" Value="{Binding RelativeSource=
                        {RelativeSource Self}, Path=Tag}" />
            <Style.Resources>
                <Style TargetType="ToolTip">
                    <Setter Property="Template" Value="{StaticResource ToolTipTemplate}"/>
                   
                </Style>
            </Style.Resources>
    
            <Style.Triggers>
                <Trigger Property="Validation.HasError" Value="true">
                    <Setter  Property="TextBox.ToolTip" Value="{Binding RelativeSource=
                        {RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}" />
                </Trigger>
                
            </Style.Triggers>
        </Style>
        

    </UserControl.Resources>
    <UserControl.CommandBindings>
        <CommandBinding Command="self:CustomCommands.HelpClick" CanExecute="HelpClickStub"
                        Executed="HelpClickExeStub"/>
    </UserControl.CommandBindings>
        
        
        
    <StackPanel Orientation="Vertical" Name="MainPanel">
        
        <StackPanel Orientation="Horizontal">
            <Label Content="Job Title:">
                <Label.ToolTip>
                    <cc:RFEMToolTip Title="Job Title" ToolTipMessage="Title for charts and files." />
                </Label.ToolTip>
            </Label>
            <TextBox x:Name="txtJobTitle" 
                     Width="200"
                     Text="{Binding Path=JobTitle, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                <TextBox.ToolTip>
                    <cc:RFEMToolTip Title="Job Title" ToolTipMessage="Title for charts and files." />
                </TextBox.ToolTip>
            </TextBox>
        </StackPanel>

        <StackPanel Orientation="Horizontal">
            <Label Content="Basename:">
                <Label.ToolTip>
                    <cc:RFEMToolTip Title="Base Name" ToolTipMessage="Root name for data and result files." />
                </Label.ToolTip>
            </Label>
            <TextBox x:Name="txtBaseName"
                     Width="100" 
                     Text="{Binding Path=BaseName, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                <TextBox.ToolTip>
                    <cc:RFEMToolTip Title="Base Name" ToolTipMessage="Root name for data and result files." />
                </TextBox.ToolTip>
            </TextBox>
        </StackPanel>

        <StackPanel Orientation="Horizontal" >
            <CheckBox x:Name="chkEchoInput"
                      Content="Echo input data to output *.stt file?" 
                      VerticalAlignment="center"
                      IsChecked="{Binding Path=EchoInputDataToOutputFile, UpdateSourceTrigger=PropertyChanged}">
                <CheckBox.ToolTip>
                    <cc:RFEMToolTip Title="Echo Input" 
                                    ToolTipMessage="Display input data in the output statistics file."/>
                </CheckBox.ToolTip>

                <CheckBox.ContextMenu>
                    <ContextMenu Name="contextMenu1"  >
                        <MenuItem Header="Help" 
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=chkEchoInput}"
                                  />
                    </ContextMenu>
                </CheckBox.ContextMenu>
            </CheckBox>
        </StackPanel>

        
        <StackPanel Orientation="Horizontal" >
            <CheckBox x:Name="chkOutputDebugData"
                      Content="Write debug data to the *.stt file?"
                      VerticalAlignment="center"
                      IsChecked="{Binding Path=WriteDebugDataToOutputFile, UpdateSourceTrigger=PropertyChanged}">
                <CheckBox.ToolTip>
                    <cc:RFEMToolTip Title="Output Debug Data"
                                    ToolTipMessage="Writes debug information to the output statistics file." />
                </CheckBox.ToolTip>
                <CheckBox.ContextMenu>
                    <ContextMenu Name="contextMenu9"  >
                        <MenuItem Header="Help" 
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=chkOutputDebugData}"
                                  />
                    </ContextMenu>
                </CheckBox.ContextMenu>
            </CheckBox>
        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <CheckBox x:Name="chkPlotFirstRF"
                      Content="Plot first random field?"
                      VerticalAlignment="center"
                      Checked="chkPlotFirstRF_Checked"
                      Unchecked="chkPlotFirstRF_UnChecked"
                      IsChecked="{Binding Path=PlotFirstRandomField, UpdateSourceTrigger=PropertyChanged}">
                <CheckBox.ToolTip>
                    <cc:RFEMToolTip Title="Plot First Random Field"
                                    ToolTipMessage="Enabling this option will cause the first random field (ie. the first
                                                    realization) to be plotted as a DISPLAY format file." />
                </CheckBox.ToolTip>
                <CheckBox.ContextMenu>
                    <ContextMenu Name="contextMenu10"  >
                        <MenuItem Header="Help" 
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=chkPlotFirstRF}"
                                  />
                    </ContextMenu>                    
                </CheckBox.ContextMenu>
            </CheckBox>
            <Label Name="lbPlotFirstRF" 
                   Content="Property to plot:"
                   Visibility="Collapsed">
                <Label.ToolTip>
                    <cc:RFEMToolTip Title="Property to Plot"
                                    ToolTipMessage="Select property to plot." />
                </Label.ToolTip>
                <Label.ContextMenu>
                    <ContextMenu Name="contextMenu11"  >
                        <MenuItem Header="Help" 
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=chkPlotFirstRF}"
                                  />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <ComboBox x:Name="cboPlotFirstRF"
                      Width="75"
                      Visibility="Collapsed"
                      DisplayMemberPath="Name"
                      SelectedValuePath="Value"
                      SelectedValue="{Binding Path=FirstRandomFieldProperty, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                      >
                <ComboBox.ToolTip>
                    <cc:RFEMToolTip Title="Property to Plot"
                                    ToolTipMessage="Select property to plot." />
                </ComboBox.ToolTip>
                <ComboBox.ContextMenu>
                    <ContextMenu Name="contextMenu12"  >
                        <MenuItem Header="Help" 
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=chkPlotFirstRF}"
                                  />
                    </ContextMenu>                    
                </ComboBox.ContextMenu>
            </ComboBox>

        </StackPanel>
        <StackPanel Orientation="Horizontal" >
            <CheckBox x:Name="chkProducePSPLOTOfFirstFEM"
                      Content="Produce a PostScript format file of first displaced finite element mesh"
                      VerticalAlignment="center" 
                      Checked="chkProducePSPLOTOfFirstFEM_Checked" 
                      Unchecked="chkProducePSPLOTOfFirstFEM_Unchecked"
                      IsChecked="{Binding ProducePSPLOTOfFirstFEM}">
                <CheckBox.ToolTip>
                    <cc:RFEMToolTip Title="Produce PostScript File"
                                    ToolTipMessage="Enabling this option causes the first random displaced bearing failure mesh to be shown as a PostScript plot." />
                </CheckBox.ToolTip>
                <CheckBox.ContextMenu>
                    <ContextMenu x:Name="contextMenu13"  >
                        <MenuItem Header="Help" 
                    		Command="self:CustomCommands.HelpClick"
                    		CommandParameter="{Binding ElementName=chkProducePSPLOTOfFirstFEM}"
                                  />
                    </ContextMenu>
                </CheckBox.ContextMenu>
            </CheckBox>
        </StackPanel>
        <StackPanel Name ="spProducePSPLOTOfFirstFEM" 
                    Orientation="Vertical" 
                    Margin="30 0 0 0"
                    Visibility="Collapsed">
            <StackPanel Orientation="Horizontal">
                    <CheckBox x:Name="chkShowMeshOnDisplacedPlot"
                              Content="Show mesh on displaced mesh plot?"
                              VerticalAlignment="center" 
                              IsChecked="{Binding Path=ShowMeshOnDisplacedPlot}">
                    <CheckBox.ToolTip>
                        <cc:RFEMToolTip Title="Show Mesh on Displaced Plot"
                                        ToolTipMessage="Enabling this option causes the displaced finite element mesh to
                                                            be shown on the bearing failure plot."/>
                    </CheckBox.ToolTip>
                        <CheckBox.ContextMenu>
                            <ContextMenu Name="contextMenu14"  >
                                <MenuItem Header="Help" 
                                      Command="self:CustomCommands.HelpClick"
                                      CommandParameter="{Binding ElementName=chkShowMeshOnDisplacedPlot}"
                                      />
                            </ContextMenu>
                        </CheckBox.ContextMenu>
                    </CheckBox>

                </StackPanel>
            <StackPanel Orientation="Horizontal" >
                    <CheckBox x:Name="chkShowRFOnPlot"
                              Content="Show random field on plot?"
                              VerticalAlignment="center"
                              IsChecked="{Binding Path=ShowRFOnPSPLOT}"
                              Checked="chkShowRFOnPlot_Checked"
                              Unchecked="chkShowRFOnPlot_Unchecked">
                    <CheckBox.ToolTip>
                        <cc:RFEMToolTip Title="Show Random Field on Plot"
                                        ToolTipMessage="Enabling this option results in one of the random soil property
                                                        fields to be shown as a greyscale image on the bearing failure plot." />
                    </CheckBox.ToolTip>
                        <CheckBox.ContextMenu>
                            <ContextMenu Name="contextMenu"  >
                                <MenuItem Header="Help" 
                      
                                      Command="self:CustomCommands.HelpClick"
                                      CommandParameter="{Binding ElementName=chkShowRFOnPlot}"
                                  
                                      />
                            </ContextMenu>
                        </CheckBox.ContextMenu>
                
                    </CheckBox>
                    <CheckBox x:Name="chkShowLogRF"
                              Content="Show log-random field"
                              VerticalAlignment="Center"
                              IsChecked="{Binding Path=ShowLogRandomField}"
                              Visibility="Collapsed">
                    <CheckBox.ToolTip>
                        <cc:RFEMToolTip Title="Show Log Random Field"
                                        ToolTipMessage="Controls whether the logarithm of the soil property field should be displayed." />
                    </CheckBox.ToolTip>
                        <CheckBox.ContextMenu>
                            <ContextMenu Name="contextMenu2"  >
                                <MenuItem Header="Help" 
                      
                                      Command="self:CustomCommands.HelpClick"
                                      CommandParameter="{Binding ElementName=chkShowLogRF}"
                                  
                                      />
                            </ContextMenu>
                        </CheckBox.ContextMenu>
                    </CheckBox>
                    <Label Name="lbPropertyToPlot"
                           Content="Property to plot:"
                           Visibility="Collapsed">
                    <Label.ToolTip>
                        <cc:RFEMToolTip Title="Property to Plot"
                                        ToolTipMessage="The soil property type to show on the bearing failure plot."/>
                    </Label.ToolTip>
                        <Label.ContextMenu>
                            <ContextMenu Name="contextMenu3"  >
                                <MenuItem Header="Help" 
                      
                                      Command="self:CustomCommands.HelpClick"
                                      CommandParameter="{Binding ElementName=cboPropertyToPlot}"
                                  
                                      />
                            </ContextMenu>
                        </Label.ContextMenu>
                    </Label>
                    <ComboBox x:Name="cboPropertyToPlot"
                              Width="75"
                              DisplayMemberPath="Name"
                              SelectedValuePath="Value"
                              Visibility="Collapsed"
                              SelectedValue="{Binding PSPLOTProperty, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                    <ComboBox.ToolTip>
                        <cc:RFEMToolTip Title="Property to Plot"
                                        ToolTipMessage="The soil property type to show on the bearing failure plot."/>
                    </ComboBox.ToolTip>
                        <ComboBox.ContextMenu>
                            <ContextMenu Name="contextMenu4"  >
                                <MenuItem Header="Help" 
                                          Command="self:CustomCommands.HelpClick"
                                          CommandParameter="{Binding ElementName=cboPropertyToPlot}"
                                      />
                            </ContextMenu>
                        </ComboBox.ContextMenu>
                    </ComboBox>
                      
            </StackPanel>
                <StackPanel Orientation="Horizontal" >
                    <Label Name="lbDisplacedMeshWidth" 
                           Content="Displaced mesh plot width:">
                    <Label.ToolTip>
                        <cc:RFEMToolTip Title="Displaced Mesh Width"
                                        ToolTipMessage="The width of the displaced mesh plot." />
                    </Label.ToolTip>
                        <Label.ContextMenu>
                            <ContextMenu Name="contextMenu5"  >
                                <MenuItem Header="Help" 
                                          Command="self:CustomCommands.HelpClick"
                                          CommandParameter="{Binding ElementName=txtDisplacedMeshWidth}"
                                      />
                            </ContextMenu>
                        </Label.ContextMenu>
                    </Label>
                <TextBox Name="txtDisplacedMeshWidth"
                             Width="50"
                             Text="{Binding Path=DisplacedMeshPlotWidth, Mode=TwoWay, 
                                    UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=true,
                                    Converter={StaticResource DoubleConverter}}">
                    <TextBox.ToolTip>
                        <cc:RFEMToolTip Title="Displaced Mesh Width"
                                        ToolTipMessage="The width of the displaced mesh plot." />
                    </TextBox.ToolTip>
                    <TextBox.ContextMenu>
                            <ContextMenu Name="contextMenu6"  >
                                <MenuItem Header="Help" 
                                          Command="self:CustomCommands.HelpClick"
                                          CommandParameter="{Binding ElementName=txtDisplacedMeshWidth}"
                                      />
                            </ContextMenu>
                        </TextBox.ContextMenu>
                    </TextBox>
                    <Label Name="lbDisplacedMeshWidthUnits" 
                           Content="inches">
                    <Label.ToolTip>
                        <cc:RFEMToolTip Title="Displaced Mesh Width"
                                        ToolTipMessage="The width of the displaced mesh plot." />
                    </Label.ToolTip>
                        <Label.ContextMenu>
                            <ContextMenu Name="contextMenu7"  >
                                <MenuItem Header="Help" 
                                          Command="self:CustomCommands.HelpClick"
                                          CommandParameter="{Binding ElementName=txtDisplacedMeshWidth}"
                                      />
                            </ContextMenu>
                        </Label.ContextMenu>
                    </Label>

                </StackPanel>
        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <CheckBox x:Name="chkNormalizeCapacitySamples"
                      Content="Normalize bearing capacity samples?"
                      VerticalAlignment="center"
                      IsChecked="{Binding Path=NormalizeBearingCapacitySamples}">
                <CheckBox.ToolTip>
                    <cc:RFEMToolTip Title="Normalize Bearing Capacity Samples"
                                    ToolTipMessage="Causes the individual bearing capacity realizations to be divided by the deterministic (at the mean) bearing capacity." />
                </CheckBox.ToolTip>
                <CheckBox.ContextMenu>
                    <ContextMenu Name="contextMenu15">
                        <MenuItem Header="Help"
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=chkNormalizeCapacitySamples}" />
                    </ContextMenu>
                </CheckBox.ContextMenu>
            </CheckBox>
                      
        </StackPanel>
        <CheckBox Name="chkOutputCapacitySamples"
                  Content="Output bearing capacity samples?"
                  VerticalAlignment="Center" 
                  IsChecked="{Binding Path=OutputBearingCapacitySamples}">
            <CheckBox.ToolTip>
                <cc:RFEMToolTip Title="Output Bearing Capacity Samples"
                                ToolTipMessage="Results in the output of a sequence of (nsim) computed bearing capacity realizations to the output file *.cap"/>
            </CheckBox.ToolTip>
            <CheckBox.ContextMenu>
                <ContextMenu Name="contextMenu16">
                    <MenuItem Header="Help"
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=chkOutputCapacitySamples}" />
                </ContextMenu>
            </CheckBox.ContextMenu>
        </CheckBox>
        <StackPanel Orientation="Horizontal">
            <Label Content="Number of elements: ">
                <Label.ToolTip>
                    <cc:RFEMToolTip Title="Number of Elements"
                                    ToolTipMessage="The soil medium is divided into a grid of rectangular finite elements. These values specify the number of elements in each direction." />
                    
                </Label.ToolTip>
                <Label.ContextMenu>
                    <ContextMenu Name="contextMenu17">
                        <MenuItem Header="Help"
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=txtNElementsInXDir}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <TextBox Name="txtNElementsInXDir"
                     Width="50"
                     Text="{Binding Path=NElementsInXDir, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                <TextBox.ToolTip>
                    <cc:RFEMToolTip Title="Number of Elements in X-Direction"
                                    ToolTipMessage="The soil medium is divided into a grid of rectangular finite elements. This value specifies the number in the x-direction."/>
                </TextBox.ToolTip>
                <TextBox.ContextMenu>
                    <ContextMenu Name="contextMenu18">
                        <MenuItem Header="Help"
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=txtNElementsInXDir}" />
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
            <Label Content="in x-direction">
                <Label.ToolTip>
                    <cc:RFEMToolTip Title="Number of Elements in X-Direction"
                                    ToolTipMessage="The soil medium is divided into a grid of rectangular finite elements. This value specifies the number in the x-direction."/>
                </Label.ToolTip>
                <Label.ContextMenu>
                    <ContextMenu Name="contextMenu19">
                        <MenuItem Header="Help"
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=txtNElementsInXDir}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <TextBox x:Name="txtNElementsInYDir"
                     Width="50"
                     Text="{Binding Path=NElementsInYDir, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                <TextBox.ToolTip>
                    <cc:RFEMToolTip Title="Number of Elements in Y-Direction"
                                    ToolTipMessage="The soil medium is divided into a grid of rectangular finite elements. This value specifies the number in the y-direction."/>
                </TextBox.ToolTip>
                <TextBox.ContextMenu>
                    <ContextMenu Name="contextMenu20">
                        <MenuItem Header="Help"
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=txtNElementsInYDir}" />
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
            <Label Content="in y-direction"
                   Name="TestLabel">
                <Label.ToolTip>
                    <cc:RFEMToolTip Title="Number of Elements in Y-Direction"
                                    ToolTipMessage="The soil medium is divided into a grid of rectangular finite elements. This value specifies the number in the y-direction."/>
                </Label.ToolTip>
                <Label.ContextMenu>
                    <ContextMenu Name="contextMenu21">
                        <MenuItem Header="Help"
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=txtNElementsInYDir}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
                   
        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <Label Content="Element Size:">
                <Label.ToolTip>
                    <cc:RFEMToolTip Title="Element Size"
                                    ToolTipMessage="Each element is assumed to be rectangular. Provide here the dimensions of each element."/>
                </Label.ToolTip>
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=txtElementSizeInXDir}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <TextBox Name="txtElementSizeInXDir"
                     Width="50"
                     Text="{Binding Path=ElementSizeInXDir, UpdateSourceTrigger=PropertyChanged, 
                            ValidatesOnDataErrors=true, Converter={StaticResource DoubleConverter}}">
                <TextBox.ToolTip>
                    <cc:RFEMToolTip Title="Element Size in X-Direction"
                                    ToolTipMessage="Each element is assumed to be rectangular. Provide here the size in the x-direction."/>
                </TextBox.ToolTip>
                <TextBox.ContextMenu>
                    <ContextMenu >
                        <MenuItem Header="Help"
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=txtElementSizeInXDir}" />
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
            <Label Content="in x-direction">
                <Label.ToolTip>
                    <cc:RFEMToolTip Title="Element Size in X-Direction"
                                    ToolTipMessage="Each element is assumed to be rectangular. Provide here the size in the x-direction."/>
                </Label.ToolTip>
                <Label.ContextMenu>
                    <ContextMenu >
                        <MenuItem Header="Help"
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=txtElementSizeInXDir}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <TextBox Name="txtElementSizeInYDir"
                     Width="50"
                     Text="{Binding Path=ElementSizeInYDir, UpdateSourceTrigger=PropertyChanged, 
                            ValidatesOnDataErrors=true, Converter={StaticResource DoubleConverter}}">
                <TextBox.ToolTip>
                    <cc:RFEMToolTip Title="Element Size in Y-Direction"
                                    ToolTipMessage="Each element is assumed to be rectangular. Provide here the size in the y-direction."/>
                </TextBox.ToolTip>
                <TextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=txtElementSizeInYDir}" />
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
            <Label Content="in y-direction">
                <Label.ToolTip>
                    <cc:RFEMToolTip Title="Element Size in Y-Direction"
                                    ToolTipMessage="Each element is assumed to be rectangular. Provide here the size in the y-direction."/>
                </Label.ToolTip>
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                  Command="self:CustomCommands.HelpClick"
                                  CommandParameter="{Binding ElementName=txtElementSizeInYDir}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
                   
        </StackPanel>
        <StackPanel Orientation="Horizontal">

            <GroupBox Name="gbNFootings">
                <GroupBox.Header>
                    <Label Content="Number of footings">
                        <Label.ToolTip>
                            <cc:RFEMToolTip Title="Number of Footings"
                                    ToolTipMessage="Denotes the number of footings applied to the surface of the soil mass." />
                        </Label.ToolTip>
                        <Label.ContextMenu>
                            <ContextMenu>
                                <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=gbNFootings}" />
                            </ContextMenu>
                        </Label.ContextMenu>
                    </Label>
                </GroupBox.Header>
                <GroupBox.ToolTip>
                    <cc:RFEMToolTip Title="Number of Footings"
                                    ToolTipMessage="Denotes the number of footings applied to the surface of the soil mass." />
                </GroupBox.ToolTip>
                <GroupBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=gbNFootings}" />
                    </ContextMenu>
                </GroupBox.ContextMenu>
                <StackPanel Orientation="Horizontal">
                    <RadioButton Name="rbOneFooting"
                                 GroupName="gpNFootings"
                                 IsChecked="true"
                                 Content="1">
                        <RadioButton.ToolTip>
                            <cc:RFEMToolTip Title="Number of Footings"
                                            ToolTipMessage="Denotes the number of footings applied to the surface of the soil mass." />
                        </RadioButton.ToolTip>
                        <RadioButton.ContextMenu>
                            <ContextMenu>
                                <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=gbNFootings}" />
                            </ContextMenu>
                        </RadioButton.ContextMenu>
                    </RadioButton>
                    <RadioButton Name="rbTwoFootings"
                                    GroupName="gpNFootings"
                                    Content="2" 
                                    Checked="rbTwoFootings_Checked" 
                                    Unchecked="rbTwoFootings_Unchecked">
                        <RadioButton.ToolTip>
                            <cc:RFEMToolTip Title="Number of Footings"
                                            ToolTipMessage="Denotes the number of footings applied to the surface of the soil mass." />
                        </RadioButton.ToolTip>
                        <RadioButton.ContextMenu>
                            <ContextMenu>
                                <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=gbNFootings}" />
                            </ContextMenu>
                        </RadioButton.ContextMenu>
                    </RadioButton>
                </StackPanel>
            </GroupBox>
            <Label Content="Footing width:"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFootingWidth}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <TextBox Name="txtFootingWidth"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Text="{Binding Path=FootingWidth, UpdateSourceTrigger=PropertyChanged, 
                            ValidatesOnDataErrors=true, Converter={StaticResource DoubleConverter}}">
                <TextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFootingWidth}" />
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
            <Label Name="lbFootingGap" 
                   Content="Footing gap"
                   ToolTip="{StaticResource DefaultToolTip}"
                   Visibility="Collapsed">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFootingGap}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <TextBox Name="txtFootingGap"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Visibility="collapsed"
                     Text="{Binding Path=FootingGap, UpdateSourceTrigger=PropertyChanged, 
                            ValidatesOnDataErrors=true, Converter={StaticResource DoubleConverter}}">
                <TextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFootingGap}" />
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <Label Content="Displacement inc:"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtDisplacementInc}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <TextBox Name="txtDisplacementInc"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Text="{Binding Path=DisplacementInc, UpdateSourceTrigger=LostFocus, 
                            ValidatesOnDataErrors=true, Converter={StaticResource DoubleConverter}}">
                <TextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtDisplacementInc}" />
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
            <Label Content="Plastic tol:"
                   ToolTip="{StaticResource DefaultToolTip }">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtPlasticTol}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <TextBox Name="txtPlasticTol"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Text="{Binding Path=PlasticTol, UpdateSourceTrigger=LostFocus, 
                            ValidatesOnDataErrors=true, Converter={StaticResource DoubleConverter}}">
                <TextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtPlasticTol}" />
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
            <Label Content="Bearing tol:"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtBearingTol}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <TextBox Name="txtBearingTol"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Text="{Binding Path=BearingTol, UpdateSourceTrigger=LostFocus, 
                            ValidatesOnDataErrors=true, Converter={StaticResource DoubleConverter}}">
                <TextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtBearingTol}" />
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>

        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <Label Content="Max number of steps:"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtMaxNumSteps}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <TextBox Name="txtMaxNumSteps"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Text="{Binding Path=MaxNumSteps, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=true}">
                <TextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtMaxNumSteps}" />
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
            <Label Content="Max number of iterations:"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtMaxNumIter}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <TextBox Name="txtMaxNumIter"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Text="{Binding Path=MaxNumIterations, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=true}">
                <TextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtMaxNumIter}" />
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <Label Content="Number of simulations:"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtNumSimulations}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <TextBox Name="txtNumSimulations"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Text="{Binding Path=NSimulations, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=true}">
                <TextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtNumSimulations}" />
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <Label Content="Generator seed:"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtGeneratorSeed}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <TextBox Name="txtGeneratorSeed"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Text="{Binding Path=GeneratorSeed, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=true}">
                <TextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtGeneratorSeed}" />
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <Label Content="Correlation lengths:"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCorrelationLengthXDir}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <TextBox Name="txtCorrelationLengthXDir"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Text="{Binding Path=CorLengthInXDir, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=true}">
                <TextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCorrelationLengthXDir}" />
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
            <Label Content="in x-direction"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCorrelationLengthXDir}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <TextBox Name="txtCorrelationLengthYDir"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Text="{Binding Path=CorLengthInYDir, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=true}">
                <TextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCorrelationLengthYDir}" />
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>
            <Label Content="in y-direction"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCorrelationLengthYDir}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
                   
        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <Label Content="Covariance function:"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=cboCovarianceFunc}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <ComboBox Name="cboCovarianceFunc"
                      ToolTip="{StaticResource DefaultToolTip}"
                      Width="50"
                      DisplayMemberPath="Name"
                      SelectedValuePath="Value"
                      SelectedValue="{Binding Path=CovFunction, UpdateSourceTrigger=PropertyChanged}">
                <ComboBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=cboCovarianceFunc}" />
                    </ContextMenu>
                </ComboBox.ContextMenu>
            </ComboBox>
        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <Label Content="Cohesion distribution"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=cboCohesionDist}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>

            <ComboBox Name="cboCohesionDist"
                      ToolTip="{StaticResource DefaultToolTip}"
                      Width="50"
                      DisplayMemberPath="Name"
                      SelectedValuePath="Value" 
                      SelectionChanged="cboCohesionDist_SelectionChanged"
                      SelectedValue="{Binding Path=CohesionDist.Type, UpdateSourceTrigger=PropertyChanged,
                                        ValidatesOnDataErrors=True}">
                <ComboBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=cboCohesionDist}" />
                    </ContextMenu>
                </ComboBox.ContextMenu>
            </ComboBox>
            
        </StackPanel>
        <StackPanel Orientation="Vertical"
                    Margin="25 0 0 0">
            <StackPanel Orientation="Horizontal">
                <Label Name="lbCohesionMean" 
                       Content="Mean: "
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCohesionMean}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtCohesionMean"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=CohesionDist.Mean, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCohesionMean}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                <Label Name="lbCohesionStdDev" 
                       Content="Standard deviation:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCohesionStdDev}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtCohesionStdDev"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=CohesionDist.StandardDev, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCohesionStdDev}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Name="lbCohesionLB" 
                       Content="Lower bound:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCohesionLB}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtCohesionLB"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=CohesionDist.LowerBound, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCohesionLB}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                <Label Name="lbCohesionUB" 
                       Content="Upper bound:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCohesionUB}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtCohesionUB"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=CohesionDist.UpperBound, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCohesionUB}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Name="lbCohesionLocation" 
                       Content="Location: "
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCohesionLocation}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtCohesionLocation"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=CohesionDist.Location,UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCohesionLocation}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                <Label Name="lbCohesionScale" 
                       Content="Scale:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCohesionScale}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtCohesionScale"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=CohesionDist.Scale, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtCohesionScale}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
            </StackPanel>
        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <Label Content="Friction angle distribution:"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=cboFrictionAngleDist}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <ComboBox Name="cboFrictionAngleDist"
                      ToolTip="{StaticResource DefaultToolTip}"
                      Width="50"
                      DisplayMemberPath="Name"
                      SelectedValuePath="Value" SelectionChanged="cboFrictionAngleDist_SelectionChanged"
                      SelectedValue="{Binding Path=FrictionAngleDist.Type, UpdateSourceTrigger=PropertyChanged,
                                        ValidatesOnDataErrors=True}">
                <ComboBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=cboFrictionAngleDist}" />
                    </ContextMenu>
                </ComboBox.ContextMenu>
            </ComboBox>
            <GroupBox Header="Selected distribution governs"
                      Name="gbFrictionAngle">
                <GroupBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=gbFrictionAngle}" />
                    </ContextMenu>
                </GroupBox.ContextMenu>
                <StackPanel Orientation="Horizontal">
                    <RadioButton Name="rbFrictionAnglePhi"
                                 Content="phi"
                                 GroupName="gpFrictionAngle"
                                 IsChecked="True"
                                 ToolTip="{StaticResource DefaultToolTip}"
                                 Checked="rbFrictionAnglePhi_Checked">
                        <RadioButton.ContextMenu>
                            <ContextMenu>
                                <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=gbFrictionAngle}" />
                            </ContextMenu>
                        </RadioButton.ContextMenu>
                    </RadioButton>
                    <RadioButton Name="rbFrictionAngleTanPhi"
                                 Content="tan(phi)"
                                 GroupName="gpFrictionAngle"
                                 ToolTip="{StaticResource DefaultToolTip}"
                                 Checked="rbFrictionAngleTanPhi_Checked">
                        <RadioButton.ContextMenu>
                            <ContextMenu>
                                <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=gbFrictionAngle}" />
                            </ContextMenu>
                        </RadioButton.ContextMenu>
                    </RadioButton>
                                
                </StackPanel>
            </GroupBox>
        </StackPanel>
        <StackPanel Orientation="Vertical" Margin="25 0 0 0">
            <StackPanel Orientation="Horizontal">
                <Label Name="lbFrictionAngleMean" 
                       Content="Mean:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFrictionAngleMean}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtFrictionAngleMean"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         
                         Text="{Binding Path=FrictionAngleDist.Mean, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFrictionAngleMean}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                <Label Name="lbFrictionAngleStdDev" 
                       Content="Standard deviation:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFrictionAngleStdDev}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtFrictionAngleStdDev"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=FrictionAngleDist.StandardDev, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFrictionAngleStdDev}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Name="lbFrictionAngleLB" 
                       Content="Lower bound:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFrictionAngleLB}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtFrictionAngleLB"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=FrictionAngleDist.LowerBound, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFrictionAngleLB}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                <Label Name="lbFrictionAngleUB" 
                       Content="Upper bound:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFrictionAngleUB}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtFrictionAngleUB"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=FrictionAngleDist.UpperBound, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFrictionAngleUB}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                       
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Name="lbFrictionAngleLocation" 
                       Content="Location:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFrictionAngleLocation}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtFrictionAngleLocation"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=FrictionAngleDist.Location, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFrictionAngleLocation}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                <Label Name="lbFrictionAngleScale" 
                       Content="Scale:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFrictionAngleScale}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtFrictionAngleScale"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=FrictionAngleDist.Scale, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtFrictionAngleScale}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
            </StackPanel>
        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <Label Content="Dilation angle distribution:"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=cboDilationAngleDist}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <ComboBox Name="cboDilationAngleDist"
                      ToolTip="{StaticResource DefaultToolTip}"
                      Width="50"
                      DisplayMemberPath="Name"
                      SelectedValuePath="Value" SelectionChanged="cboDilationAngleDist_SelectionChanged"
                      SelectedValue="{Binding Path=DilationAngleDist.Type, UpdateSourceTrigger=PropertyChanged,
                                        ValidatesOnDataErrors=True}">
                <ComboBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=cboDilationAngleDist}" />
                    </ContextMenu>
                </ComboBox.ContextMenu>
            </ComboBox>
                   
        </StackPanel>
        <StackPanel Orientation="Vertical" Margin="25 0 0 0">
            <StackPanel Orientation="Horizontal">
                <Label Name="lbDilationAngleMean" 
                       Content="Mean"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtDilationAngleMean}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtDilationAngleMean"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=DilationAngleDist.Mean,UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtDilationAngleMean}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                <Label Name="lbDilationAngleStdDev" 
                       Content="Standard deviation:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtDilationAngleStdDev}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtDilationAngleStdDev"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=DilationAngleDist.StandardDev, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtDilationAngleStdDev}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                       
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Name="lbDilationAngleLB" 
                       Content="Lower bound:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtDilationAngleLB}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtDilationAngleLB"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=DilationAngleDist.LowerBound, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtDilationAngleLB}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                <Label Name="lbDilationAngleUB" 
                       Content="Upper bound:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtDilationAngleUB}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtDilationAngleUB"
                         ToolTip="{StaticResource DefaultToolTip }"
                         Width="50"
                         Text="{Binding Path=DilationAngleDist.UpperBound, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtDilationAngleUB}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Name="lbDilationAngleLocation" 
                       Content="Location:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtDilationAngleLocation}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtDilationAngleLocation"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=DilationAngleDist.Location, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtDilationAngleLocation}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                <Label Name="lbDilationAngleScale" 
                       Content="Scale:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtDilationAngleScale}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtDilationAngleScale"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=DilationAngleDist.Scale, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtDilationAngleScale}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
            </StackPanel>
        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <Label Content="Elastic modulus distribution"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=cboElasticModDist}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <ComboBox Name="cboElasticModDist"
                      ToolTip="{StaticResource DefaultToolTip}"
                      Width="50"
                      DisplayMemberPath="Name"
                      SelectedValuePath="Value" SelectionChanged="cboElasticModDist_SelectionChanged"
                      SelectedValue="{Binding Path=ElasticModulusDist.Type, UpdateSourceTrigger=PropertyChanged,
                                        ValidatesOnDataErrors=True}">
                <ComboBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=cboElasticModDist}" />
                    </ContextMenu>
                </ComboBox.ContextMenu>
            </ComboBox>
        </StackPanel>
        <StackPanel Orientation="Vertical" Margin="25 0 0 0">
            <StackPanel Orientation="Horizontal">
                <Label Name="lbElasticModMean" 
                       Content="Mean:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtElasticModMean}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtElasticModMean"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=ElasticModulusDist.Mean, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtElasticModMean}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                <Label Name="lbElasticModStdDev" 
                       Content="Standard deviation"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtElasticModStdDev}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtElasticModStdDev"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=ElasticModulusDist.StandardDev, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtElasticModStdDev}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Name="lbElasticModLB" 
                       Content="Lower bound:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtElasticModLB}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtElasticModLB"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=ElasticModulusDist.LowerBound, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtElasticModLB}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                <Label Name="lbElasticModUB" 
                       Content="Upper bound:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtElasticModUB}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtElasticModUB"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=ElasticModulusDist.UpperBound, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtElasticModUB}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Name="lbElasticModLocation" 
                       Content="Location:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtElasticModLocation}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtElasticModLocation"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=ElasticModulusDist.Location, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtElasticModLocation}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                <Label Name="lbElasticModScale" 
                       Content="Scale:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtElasticModScale}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtElasticModScale"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=ElasticModulusDist.Scale, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtElasticModScale}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
            </StackPanel>
        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <Label Content="Poisson's ratio distribution"
                   ToolTip="{StaticResource DefaultToolTip}">
                <Label.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=cboPoissonRTIODist}" />
                    </ContextMenu>
                </Label.ContextMenu>
            </Label>
            <ComboBox Name="cboPoissonRTIODist"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                      DisplayMemberPath="Name"
                      SelectedValuePath="Value" SelectionChanged="cboPoissonRTIODist_SelectionChanged"
                      SelectedValue="{Binding Path=PoissonsRatioDist.Type, UpdateSourceTrigger=PropertyChanged,
                                        ValidatesOnDataErrors=True}">
                <ComboBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=cboPoissonRTIODist}" />
                    </ContextMenu>
                </ComboBox.ContextMenu>
            </ComboBox>
        </StackPanel>
        <StackPanel Orientation="Vertical" Margin="25 0 0 0">
            <StackPanel Orientation="Horizontal">
                <Label Name="lbPoissonRatioMean" 
                       Content="Mean:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtPoissonRatioMean}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtPoissonRatioMean"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=PoissonsRatioDist.Mean, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtPoissonRatioMean}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                <Label Name="lbPoissonRatioStdDev" 
                       Content="Standard deviation:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtPoissonRatioStdDev}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtPoissonRatioStdDev"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=PoissonsRatioDist.StandardDev, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtPoissonRatioStdDev}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Name="lbPoissonRatioLB" Content="Lower bound:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtPoissonRatioLB}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtPoissonRatioLB"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=PoissonsRatioDist.LowerBound, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtPoissonRatioLB}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                <Label Name="lbPoissonRatioUB" 
                       Content="Upper bound:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtPoissonRatioUB}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtPoissonRatioUB"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=PoissonsRatioDist.UpperBound, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtPoissonRatioUB}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <Label Name="lbPoissonRatioLocation" 
                       Content="Location:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtPoissonRatioLocation}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtPoissonRatioLocation"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=PoissonsRatioDist.Location, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtPoissonRatioLocation}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
                <Label Name="lbPoissonRatioScale" 
                       Content="Scale:"
                       ToolTip="{StaticResource DefaultToolTip}">
                    <Label.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtPoissonRatioScale}" />
                        </ContextMenu>
                    </Label.ContextMenu>
                </Label>
                <TextBox Name="txtPoissonRatioScale"
                         ToolTip="{StaticResource DefaultToolTip}"
                         Width="50"
                         Text="{Binding Path=PoissonsRatioDist.Scale, UpdateSourceTrigger=PropertyChanged,
                                ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}">
                    <TextBox.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=txtPoissonRatioScale}" />
                        </ContextMenu>
                    </TextBox.ContextMenu>
                </TextBox>
            </StackPanel>
        </StackPanel>
        <Label Content="Soil property correlation matrix elements:"
               ToolTip="{StaticResource DefaultToolTip}">
            <Label.ContextMenu>
                <ContextMenu>
                    <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=GridSoilPropCorrelationMatrix}" />
                </ContextMenu>
            </Label.ContextMenu>
        </Label>
        <Grid x:Name="GridSoilPropCorrelationMatrix">
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>
            <Grid.ContextMenu>
                <ContextMenu>
                    <MenuItem Header="Help"
                                    Command="self:CustomCommands.HelpClick"
                                    CommandParameter="{Binding ElementName=GridSoilPropCorrelationMatrix}" />
                </ContextMenu>
            </Grid.ContextMenu>
            
            <Label Content="Cohesion" Grid.Column="1" Grid.Row="0"/>
            <Label Content="Cohesion" Grid.Column="0" Grid.Row="1"/>
            
            <Label Content="Friction" Grid.Column="2" Grid.Row="0"/>
            <Label Content="Friction" Grid.Column="0" Grid.Row="2"/>
            
            <Label Content="Dilation" Grid.Column="3" Grid.Row="0" />
            <Label Content="Dilation" Grid.Column="0" Grid.Row="3" />
            
            <Label Content="Elastic Mod" Grid.Column="4" Grid.Row="0" />
            <Label Content="Elastic Mod" Grid.Column="0" Grid.Row="4" />
            
            <Label Content="Poisson's Ratio" Grid.Column="5" Grid.Row="0" />
            <Label Content="Poisson's Ratio" Grid.Column="0" Grid.Row="5" />
            
            <TextBox Name="txtCorrCohesionCohesion"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     IsEnabled="false"
                     Text="1"
                     Grid.Column="1"
                     Grid.Row="1"/>
            <TextBox Name="txtCorrFrictionFriction"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     IsEnabled="false"
                     Text="1"
                     Grid.Column="2"
                     Grid.Row="2" />
            <TextBox Name="txtCorrDilationDilation"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     IsEnabled="false"
                     Text="1"
                     Grid.Row="3"
                     Grid.Column="3" />
            <TextBox Name="txtCorrElasModElasMod"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     IsEnabled="false"
                     Text="1"
                     Grid.Row="4"
                     Grid.Column="4" />
            <TextBox Name="txtCorrPoissonRTPoissonRT"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     IsEnabled="False"
                     Text="1"
                     Grid.Row="5"
                     Grid.Column="5" />
            
            <TextBox Name="txtCorrCohesionFriction"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Grid.Row="1"
                     Grid.Column="2"
                     Text="{Binding Path=CorrCohesionFriction, UpdateSourceTrigger=PropertyChanged,
                            ValidatesOnDataErrors=true, Converter={StaticResource DoubleConverter}}"/>
            <TextBox Name="txtCorrCohesionDilation"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Grid.Row="1"
                     Grid.Column="3"
                     Text="{Binding Path=CorrCohesionDilation, UpdateSourceTrigger=PropertyChanged,
                            ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}"/>
            <TextBox Name="txtCorrCohesionElasMod"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Grid.Row="1"
                     Grid.Column="4"
                     Text="{Binding Path=CorrCohesionElasMod, UpdateSourceTrigger=PropertyChanged,
                            ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}"/>
            <TextBox Name="txtCorrCohesionPoissonRT"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Grid.Row="1"
                     Grid.Column="5"
                     Text="{Binding Path=CorrCohesionPoissonRT, UpdateSourceTrigger=PropertyChanged,
                            ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}"/>
            
            <TextBox Name="txtCorrFrictionDilation"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Grid.Row="2"
                     Grid.Column="3"
                     Text="{Binding Path=CorrFrictionDilation, UpdateSourceTrigger=PropertyChanged,
                            ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}"/>
            <TextBox Name="txtCorrFrictionElasMod"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Grid.Row="2"
                     Grid.Column="4"
                     Text="{Binding Path=CorrFrictionElasMod, UpdateSourceTrigger=PropertyChanged,
                            ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}"/>
            <TextBox Name="txtCorrFrictionPoissonRT"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Grid.Row="2"
                     Grid.Column="5"
                     Text="{Binding Path=CorrFrictionPoissonRT, UpdateSourceTrigger=PropertyChanged,
                            ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}"/>
            
            <TextBox Name="txtCorrDilationElasMod"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Grid.Row="3"
                     Grid.Column="4" 
                     Text="{Binding Path=CorrDilationElasMod, UpdateSourceTrigger=PropertyChanged,
                            ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}"/>
            <TextBox Name="txtCorrDilationPoissionRT"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Grid.Row="3"
                     Grid.Column="5"
                     Text="{Binding Path=CorrDilationPoissionRT, UpdateSourceTrigger=PropertyChanged,
                            ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}"/>
            
            <TextBox Name="txtCorrElasModPoissonRT"
                     ToolTip="{StaticResource DefaultToolTip}"
                     Width="50"
                     Grid.Row="4"
                     Grid.Column="5"
                     Text="{Binding Path=CorrElasModPoissonRT, UpdateSourceTrigger=PropertyChanged,
                            ValidatesOnDataErrors=True, Converter={StaticResource DoubleConverter}}"/>

        </Grid>

    </StackPanel>

</UserControl>
